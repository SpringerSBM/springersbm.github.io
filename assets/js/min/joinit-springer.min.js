/*! joinit-springer 2013-09-26 */
!function(a){a.fn.fitText=function(b,c){var d=b||1,e=a.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},c);return this.each(function(){var b=a(this),c=function(){b.css("font-size",Math.max(Math.min(b.width()/(10*d),parseFloat(e.maxFontSize)),parseFloat(e.minFontSize)))};c(),a(window).on("resize.fittext orientationchange.fittext",c)})}}(jQuery),function(a){a.fn.imageFlipper=function(b){var c=a.extend({rows:3,columns:9},b);return this.each(function(){var b=a(this),d=responsiveImages.getImagePrefix({_tablet:1023,_widescreen:99999}),e=responsiveImages.buildImagePath(b.data("frontimage"),d),f=responsiveImages.buildImagePath(b.data("backimage"),d),g=a("<img/>"),h=a("<img/>"),i=b.data("cssprefix"),j=0,k=0,l=a("<ul/>").addClass("imageFlipper");g.on("load",function(){var d=this,g=responsiveImages.isRetina?2:1;k=d.height/c.rows/g,j=d.width/c.columns/g;for(var m=0,n=0,o=0;m<c.rows*c.columns;){var p=a("<li/>").css({width:j,height:k}).attr("tabIndex",0).on("click",function(){var b=a(this);b.addClass("over").siblings().removeClass("over")}).appendTo(l),q=a("<div/>").appendTo(p);a("<span class='front'/>").css({backgroundImage:"url("+i+e+")",backgroundPosition:-j*o+"px -"+k*n+"px",backgroundSize:d.width/g+"px "+d.height/g+"px",width:j,height:k,display:"block"}).appendTo(q),a("<span class='back'/>").css({backgroundImage:"url("+i+f+")",backgroundPosition:-j*o+"px -"+k*n+"px",backgroundSize:d.width/g+"px "+d.height/g+"px",width:j,height:k,display:"block"}).appendTo(q),m++,n=Math.floor(m/c.columns),o=m%c.columns}h.attr("src",i+f),l.insertAfter(b)}),g.attr("src",i+e)})}}(jQuery),function(){function a(){if(g.isMobile())return!1;var a=e.$w.scrollTop(),b=e.$w.innerHeight(),c=Math.floor((a+b/2-e.parFx.position().top)/e.panelHeight);e.panels.removeClass("active").eq(c).addClass("active")}function b(){if(g.noParallax())return e.panels.find("img").css({top:"0px"}),!1;var a=e.$w.innerHeight(),b=e.$w.scrollTop();$("html").innerHeight(),e.panels.each(function(){var c=$(this),d=c.position(),f=c.find("img"),g=d.top>a+b||d.top+c.innerHeight()<b;if(!g){var h=f.innerHeight()-e.panelHeight,i=h/(a/(b-d.top));f.css({top:i})}})}function c(){var a=e.parFx.innerWidth();e.panelHeight=a*g.imageRatio(),e.panels.each(function(){$(this).css({height:Math.floor(e.panelHeight),"font-size":100*(a/f)+"%"})})}function d(){var a=g.isMobile();responsiveImages.noscriptHack($(".storyboards").find(".responsive"),{_smartphone:600,_tablet:1024,_widescreen:99999},b,a),responsiveImages.noscriptHack($(".our-products__product").find(".responsive")),responsiveImages.noscriptHack($(".our-workplace .home-section__grid, .our-culture, .home-section--our-people, .looking-for__photo").find(".responsive"),{_tablet:1024,_widescreen:99999},null,a),responsiveImages.noscriptHack($(".our-workplace .map").find(".responsive"),{_tablet:1024,_widescreen:99999})}var e={},f=1440,g={mobileBreakPoint:1024,isMobile:function(){return e.$w.innerWidth()<=g.mobileBreakPoint},imageRatio:function(){return this.noParallax()?.5:.4},isTouch:"ontouchstart"in window||navigator.msMaxTouchPoints>0,noParallax:function(){return g.isMobile()||g.isTouch}};$().ready(function(){$("html").removeClass("no-js");var f=$(".storyboards__wrapper"),h=(f.position(),f.children(".storyboards__board")),i=$(window),j=h.eq(0).innerHeight();e={parFx:f,panels:h,$w:i,panelHeight:j,fitTexts:$(".fitText")},e.fitTexts.each(function(){var a=$(this);a.fitText(parseFloat(a.data("fittextcompressor")||1),{minFontSize:parseFloat(a.data("fittextminsize")||14)})}),i.on("resize",function(){$(document.body).toggleClass("noParallax",g.noParallax()),c(),a(),b()}),i.on("scroll",function(){a(),b()}),f.on("click","a",function(a){a.preventDefault();var b=$(this).closest(".storyboards__board").next(),c=e.$w.innerHeight();scrollTop=b.position().top-c/2+b.innerHeight()/2,$("html,body").animate({scrollTop:scrollTop},600)}),d(),$(".imageFlipper").imageFlipper(),i.resize()})}(),function(){$(document.body).toggleClass("mobile",$(window).innerWidth()<1024),window.responsiveImages={noscriptHack:function(a,b,c,d){var e=responsiveImages.getImagePrefix(b,d);a.each(function(){var a=$(this),b=a.data("imgclass"),d=a.attr("alt"),f=responsiveImages.buildImagePath(a.data("baseimg"),e),g=window.document.createElement("img"),h=$(g);c&&h.on("load",c),g.src=f,h.addClass(b).attr("alt",d).insertAfter(a)})},getImagePrefix:function(a,b){var c=1==b?!1:responsiveImages.isRetina,d=$(window).innerWidth();imgFormat="";for(var e in a)if(d<a[e]){imgFormat=e;break}return imgFormat=c?imgFormat+"@2x":imgFormat},buildImagePath:function(a,b){var c=a.split("."),d=c[0],e=c[1];return d+b+"."+e},isRetina:window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches}}();